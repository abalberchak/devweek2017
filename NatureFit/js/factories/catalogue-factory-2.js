// Intended to provide all links and update functions
myApp.factory('CatalogueFactory', function($http) {
	var factory = {};
	var csvdata;
    // Data for Production
    $.ajax({
      url: "/site/fin/ofd/internal/sales/cnt2596236.csv",
      async: false,
      success: function (csvd) {
          var data = $.csv2Array(csvd);
          csvdata = data;
      },
      dataType: "text",
      complete: function (data) {
        console.log(data);
          }
      });
    // End Data for Production

    // Data for Testing
    if(!csvdata) {
        csvdata = [
            ["Start a Deal", "OFD Customer Financial Footprint", "N/A", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["Start a Deal", "Obligor Analysis", "Commercial Entity", "{Under Construction}", "{Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}, {Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}", "{Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}", "{Under Construction}"],
            ["Start a Deal", "OFD Customer Financial Information Review", "Commercial Entity", "{Under Construction}", "{Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}, {Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}", "{Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}", "{Under Construction}"],
            ["Credit", "Obligor Analysis", "Government", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["Credit", "Obligor Analysis", "Partner Acting as Service Provider/Outsourcer", "{Under Construction}", "{Under Construction}", "{Test > URL > description}"],
            ["Credit", "Obligor Analysis", "Partner Acting as Service Provider/Outsourcer", "{Under Construction}", "{Under Construction}", "{Guide to Service Provider Deals > http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2085872.docx > description}"],
            ["Credit", "Obligor Analysis", "Independent Software Vendor (ISV/OEM)", "{Under Construction}", "{ISV Checklist > http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2509931.docx > ISV Checklist that should be uploaded to WEBX approval.}", "{Understanding ISV Models > http:my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2539909.docx > description}, {Guide to Identifying and Submitting an ISV Prepaid Distribution Deal > http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2540375.docx > description}"],
            ["Credit", "Obligor Analysis", "Reseller Financing", "{Under Construction}", "{Under Construction}", "{Guide to Service Provider Deals > http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2085872.docx > description}"],
            ["Credit", "Obligor Analysis", "Reseller Financing", "{Under Construction}", "{Under Construction}", "{Guide to Service Provider Deals > http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/cnt2085872.docx > description}"],
            ["Credit", "Obligor Analysis", "Managed Program", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["Credit", "Obligor Analysis", "Arranged Program", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["Start a Deal", "OFD Customer Financial Information Review", "Publicly Listed Entity", "{Financial information publicly available through Customer/Obligor's website.}, {Second Tip.}", "{OFD Risk Rating Matrix > http://my.oracle.com/site/fin/ofd/internal/frm/cnt375961.xls > description}", ""],
            ["Start a Deal", "OFD Customer Financial Information Review", "Privately Listed Entity", "{Request from Customer/Obliglor previous 2 - years' complete audited financial statements plus most recent interim statement.}", "{OFD Risk Rating Matrix > http://my.oracle.com/site/fin/ofd/internal/frm/cnt375961.xls > description}", ""],
            ["Credit", "Credit Analysis", "Managed Program", "{Under Construction}", "{Under Construction}", "{Yr 1 Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415599.doc> Document that describes how to include first year support in financing.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business practice providing guidelines for Credits for Unused Support.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business Practice providing guidelines for Credits for Unused Support.}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Credit", "Credit Analysis", "Arranged Program", "{Under Construction}", "{Under Construction}", "{Yr 1 Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415599.doc> Document that describes how to include first year support in financing.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business practice providing guidelines for Credits for Unused Support.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business Practice providing guidelines for Credits for Unused Support.}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Credit", "Compliance", "P + S1", "{Under Construction}", "{Under Construction}", "{Yr 1 Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415599.doc> Document that describes how to include first year support in financing.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business practice providing guidelines for Credits for Unused Support.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business Practice providing guidelines for Credits for Unused Support.}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Credit", "Credit Enhancements", "Yes", "{Under Construction}", "{Under Construction}", "{Yr 1 Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415599.doc> Document that describes how to include first year support in financing.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business practice providing guidelines for Credits for Unused Support.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Credit for Unused Support Business Practice> http://my.oracle.com/site/fin/ofd/internal/ProcessProcedures/Sales/cnt646242> Business Practice providing guidelines for Credits for Unused Support.}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "P + Sn", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "HW + S1", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "HW + Sn", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "OMCS", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "SaaS Non-Metered", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "Partner Cloud", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "Advanced Customer Support (ACS)", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["System", "Determine Product Breakdown", "Oracle Consulting", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["System", "Determine Product Breakdown", "Learning Credits", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["System", "Determine Product Breakdown", "Support Renewals", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["System", "Determine Product Breakdown", "Linux Support", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["System", "Determine Product Breakdown", "Business Process Services (BPS)", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["System", "Determine Product Breakdown", "Non-Oracle Products & Services", "{Under Construction}", "{Under Construction}", "{Under Construction}"],
            ["Structure & Policies", "Pricing (Generic)", "Market-Rate Financing", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Incentive-Rate Financing", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Yes, Renewal Services", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Yes, Cloud Services", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Tech Refresh", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Refinance/Roll-Over", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Sale Lease-Back", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Trade In", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Lease/Term", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Payment Plan", "", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Pricing (Generic)", "Non-Oracle Products & Services", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Determine Product Breakdown", "Yes, Renewal Services", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Determine Product Breakdown", "Migration", "", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Cross-Border", "Yes", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Structure & Policies", "Proposals", "Yes", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Contracts", "Proposals", "Managed Program", "{Under asdfConstruction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Contracts", "Proposals", "Arranged Program", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Contracts", "Credit ", "Direct (Oracle as Supplier)", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Close a Deal", "Credit ", "Pre-Close", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Close a Deal", "Credit ", "Closing & Booking", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Close a Deal", "Credit ", "After-Booking", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Contracts", "Credit Enhancements", "Yes", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"],
            ["Contracts", "Contract Negotiation", "N/A", "{Under Construction}", "{Under Construction}", "{Future Support with License and Yr 1 Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416929.doc> Document that describes how to include future support with license and year 1 support in financing.}, {Support Renewals with New License and Support Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt416930.pdf> Document that describes how to include support renewals with license and year 1 support in financing.}, {Pricing Support on Net License and Bundled Fees Workbook> http://my.oracle.com/site/fin/ofd/internal/cnt1794094.xlsx> Document that provides a guide to pricing support on net license fees and bundling fees in ordering document.}, {Future Years Support Shown as TCO Guidelines> http://my.oracle.com/site/fin/ofd/internal/cnt415598.doc> Document that describes how to include future support with license and year 1 support in financing, shown as Total Cost of Ownership (TCO).}, {Global Business Practice for End User Order Requirements> http://my.oracle.com/site/fin/ofd/internal/BusinessPractices/cnt1529005.docx> Guidance on requirements for End User Orders when Customer is purchasing from an Oracle Partner, including acceptable alternatives for order affirmation.}"]
            ];
    }
    // End Data for Testing
    // console.log(csvdata);
    factory.getCsvData = function() {
        // console.log(csvdata);
        return csvdata;{}
    }
    // Function that populates each object with tips, toolkit and knowmores
    factory.populateObject = function(csvdata, index) {
        var tempObject = {};
        // Regular Expression searches for starting with }, and however many spaces between before {. Then replaces with },{
        var tipsString = csvdata[3].replace(/\},\s+\{/g, "},{");
        var toolkitString = csvdata[4].replace(/\},\s+\{/g, "},{");
        var knowMoreString = csvdata[5].replace(/\},\s+\{/g, "},{");
        if(tipsString != "" || tipsString != "N/A") {
            tempObject.tips = convertTips(tipsString, index);
        }
        if(toolkitString != "" || toolkitString != "N/A") {
            tempObject.toolkit = convertNonTips(toolkitString, index);
        }

        if(knowMoreString != "" || knowMoreString != "N/A") {
            tempObject.knowmore = convertNonTips(knowMoreString, index);
        }
        return tempObject;
    }

        // Converts Toolkit OR KnowMore to search format
    factory.convertToSearchable = function(csvdata, index) {
        var result = [];
        // console.log(csvdata);
        // Regular Expression searches for starting with }, and however many spaces between before {. Then replaces with },{
        csvdata[4] = csvdata[4].replace(/\},\s+\{/g, "},{");
        csvdata[5] = csvdata[5].replace(/\},\s+\{/g, "},{");

        var toolkitArray = csvdata;
        var knowMoreArray = csvdata;
        console.log(csvdata[4]);
        if(toolkitArray[4] != "" && toolkitArray[4] != "N/A" && toolkitArray[4] != "{Under Construction}" && toolkitArray[4] != "Under Construction") {
            // 4 Indicates we're working with the toolkit
            var arr = searchableHelper(toolkitArray, 4);
            for(var i = 0; i < arr.length; i++) {
                result.push(arr[i]);
            }
        }   

        if(knowMoreArray[5] != "" && knowMoreArray[5] != "N/A" && knowMoreArray[5] != "{Under Construction}" && knowMoreArray[5] != "Under Construction") {
            // 5 indicates we're working with the knowMore
            var arr = searchableHelper(knowMoreArray, 5);
            for(var i = 0; i < arr.length; i++) {
                result.push(arr[i]);
            }
        }
        // console.log(result);
        return result;
    }
    // NEXT STEPS NEED TO FILTER OUT EMPTY ARRAYS AND DUPLICATES. COULD POSSIBLY ADD WHICH STEP IT APPEARS?
    function searchableHelper(arr, index) {
      // console.log(str);
      // var count = 0;
        var response = [];
        var results = [];
        var pattern = /{([^}]+)}/g;
        var text;
        while(text = pattern.exec(arr[index])) {
            // Push all items within curly braces to strings in results
            // MAKE THIS RESULTS AN OBJECT TO KEEP THE STEP/SECTION
            results.push({
              str: text[1], 
              step: arr[0],
              section: arr[1]
              });
        }
        // console.log(results[0]["str"])
        // Transpose string in results["str"] to array(title, url, description)
        for(var i = 0; i < results.length; i++) {
            var count = 0;
            for(var j = 0; j < results[i]["str"].length; j++) {
                var tempTitle;
                var firstMarkerPosition;
                var tempURL;
                var tempDescription;
                // #/step/#section for routing item to correct section in the application
                var stepSections = [];
                var route = convertStepSectionsRoute(results[i]["step"], results[i]["section"]);
                // count up to 2 > then break;
                if(results[i]["str"][j] == ">" && count == 0) {
                    count++;
                    firstMarkerPosition = j;
                    tempTitle = results[i]["str"].substring(0,j).trim();
                } else if(results[i]["str"][j] == ">" && count == 1) {
                    stepSections.push({step: results[i]["step"], section: results[i]["section"], route: route});
                    tempURL = results[i]["str"].substring(firstMarkerPosition+1, j).trim().replace("http://my.oracle.com","");
                    tempDescription = results[i]["str"].substring(j + 1, results[i]["str"].length).trim();
                    response.push({title: tempTitle, url: tempURL, description: tempDescription, stepSections: stepSections});
                    // console.log(response);
                    break;
                }   
            }
        }
        // console.log(response);
        return response
    }
    function convertStepSectionsRoute(step, section) {
      // Remove &, -, and spaces
      var pattern = /[&-\s]/g;
      var result = "#/" + step.replace(pattern, "").toLowerCase() + "#section" + section.replace(pattern,"");
      return result;

    }
    function convertTips(str, index) {
    	if(str == "{Under Construction}" || str == "Under Construction") {
    		return ["<span class='light-gray'>Under Construction</span>"];
    	} else {
            // Use for taking out of curly braces
            var response = [];
            var results = [];
            var pattern = /{([^}]+)}/g;
            var text;
            while(text = pattern.exec(str)) {
                // Push all items within curly braces to strings in results
                results.push(text[1]);
            }
            for(var i = 0; i < results.length; i++) {
                response.push("<span class='tips-item'>" + results[i] + "</span>");
            }
            return response;
        }
    }
    // Converts Toolkit OR KnowMore
    function convertNonTips(str, index) {
        if(str == "{Under Construction}" || str == "Under Construction") {
            return ["<span class='light-gray'>Under Construction</span>"];
        } else if(str.substr(0,8) == "<custom>") {
            // Cut out custom tags
            return [str.substring(8, str.length-9)];
        } else if (str.charAt(0) == "{") { //Check for expected title/url
            var arr = convertStringToArray(str);
            return convertArrayToHtmlFormat(arr);
        } else if(str == "") {
            return "";
        } else {
            console.log("Not displayed yet. Possibly not triggered or missing { } on csv line: " + index, str);
        }
    }
    // Part I to convertNonTips. Takes string in curly braces and separates into array(s)
    function convertStringToArray(str) {
        var response = [];
        var results = [];
        var pattern = /{([^}]+)}/g;
        var text;
        while(text = pattern.exec(str)) {
        // Push all items within curly braces to strings in results
            results.push(text[1]);
          }
        // Transpose string in results to array(title, url, description)
         for(var i = 0; i < results.length; i++) {
            var count = 0;
            for(var j = 0; j < results[i].length; j++) {
                var tempTitle;
                var firstMarkerPosition;
                var tempURL;
                var tempDescription;
                // count up to 2 commas then break;
                if(results[i][j] == ">" && count == 0) {
                    // console.log(results[i][j]);
                    count++;
                    firstMarkerPosition = j;
                    tempTitle = results[i].substring(0,j).trim();
                    // response.push(new Array(results[i].substring(0, j), results[i].substring(j+1, results[i].length).trim()));
                    // break;
                } else if(results[i][j] == ">" && count == 1) {
                    count++;
                    tempURL = results[i].substring(firstMarkerPosition+1, j).trim();
                    tempDescription = results[i].substring(j + 1, results[i].length).trim();
                    response.push(new Array(tempTitle, tempURL, tempDescription));
                    break;
                }
                if (j == results[i].length-1 ){
                    console.log("Check for separation in curly braces by title, url, description");
                } 
            }
        }
        // for(var i = 0; i < results.length; i++) {
        //     for(var j = results[i].length; j >= 0; j--) {
        //         if(results[i][j] == ",") {
        //             response.push(new Array(results[i].substring(0, j), results[i].substring(j+1, results[i].length).trim()));
        //             break;
        //         }
        //     }
        // }
        // console.log(response);
        // console.log(response);
        return response;
    }
    // Part II to convertNonTips. Takes arr and converts to html format
    // Remove http://my.oracle.com because required from Oracle WebCenter platform
    function convertArrayToHtmlFormat(arr) {
        var result = [];
        for(var i = 0; i < arr.length; i++) {
            result.push("<a target='_blank' download='" + arr[i][0] +"' href='" + arr[i][1].replace("http://my.oracle.com","") + "'>" + arr[i][0] + "</a>");
        }
        return result;
    }
    // Used for Search Factory
    // function convertArrayToObject(arr) {
    //     var result = [];
    //     for(var i = 0; i < arr.length; i++) {
    //         result.push({
    //             title: arr[0],
    //             url: arr[1],
    //             description: arr[2]
    //         });
    //     }
    //     return result;
    // }
	return factory;
})